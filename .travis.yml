sudo: false
language: android
jdk: oraclejdk8
android:
  components:
  - platform-tools
  - tools
  - build-tools-23.0.3
  - android-23
before_install:
- chmod +x gradlew
script:
- "./gradlew clean build connectedAndroidTest -PdisablePreDex --stacktrace"
after_success:
- sh set_tags.sh
notifications:
  email: true
deploy:
  provider: releases
  file_glob: true
  skip_cleanup: true
  api_key:
    secure: i1KjhSOFm4OTa7F9p0/A6thU6i3dej/Nv9QtzS89jKc8uUyEMKTDMaargvRfBTY7vTf49xn45hk5YsJ4IDryn68t6J0D1B+t9mydcA9xKU049OetikDCAnUfCYU8Vpqn/MH2mEHtfRZF1m5I/jAIbh3vzS6JNP7/MWvuqk8Iih+KY3P+V9fw1EVfxG2rDQ26cHuZcw3o+3diUO/jACg9FjUp5kxFNw+ILYsq9TjgmPRqogMETIZF3vxdKdBLY085jDXkt1rLC1NqJAPHNgbs3rBiR11cZ/7RK4sB22vuBHibWp++VFwv4J8nr+QWhcR86NjUDHDavxjvvJbFqo69vW9wxRV52foO1T5NEcID6hH3wHCUIjEHyPTWsvqHgLNxJKngTtW5XMLABbreV4NxBu/thEQzLZKX2dpF4NAz9RX4f32NX01FFz5ac2hwSx13jOHZ4QsLSjexa5zkuieU0ZtU87gPE5fMfFM5zfX0UtlWP8ztbxIDadyUz5DsgvgyuW7t7r/3/pZXskpwi18fX6umbITDl94Yqcpn+Dok/OobSI7lLyaOS7AJo/cfJcQfBb82Xv86qlM1S+j2DbNLXU73jpFuXl7xADF1pTvt6TLlTeUoiPqA4NUQnbf0q7axlpa6IF4UuWzQOxb8+Ap1pDwWpR4u6KwEiMFVM3eGvwc=
  file: autodeployapp/build/outputs/apk/autodeployapp*release*.apk
  on:
    repo: rasoulian/AutoDeployExample
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.gradle"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
